<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>EdPad</title>
    <link rel="stylesheet" href="wedpad.css">
</head>

<body onload="init();">

<div id="left">
    <div id="top"></div>
    <div class="main-view" id="main-log">log</div>
    <div class="main-view" id="main-system">sys</div>
    <div class="main-view" id="main-bodies">bod</div>
    <div class="main-view" id="main-signals">sig</div>
    <div class="main" id="bottom"></div>
</div>

<div id="right">
    <div class="nav-button" id="nav-log" onClick="activeButton('log');"><b>LOG</b><span id="log-button-text">log text here</span></div>
    <div class="nav-button" id="nav-system" onClick="activeButton('system');"><b>SYSTEM</b><span id="system-button-text">bodies: 1/2</span></div>
    <div class="nav-button" id="nav-bodies" onClick="activeButton('bodies');"><b>BODIES</b><span id="bodies-button-text">ww:1,elw:2</span></div>
    <div class="nav-button" id="nav-signals" onClick="activeButton('signals');"><b>SIGNALS</b><span id="signals-button-text">3 sigs and many more other</span></div>
</div>

<!-- SCRIPTS -->

<script>

function init() {
    activeButton("log");
};

function activeButton(id) {
    document.getElementById("nav-log").setAttribute("class", "nav-button");
    document.getElementById("nav-system").setAttribute("class", "nav-button");
    document.getElementById("nav-bodies").setAttribute("class", "nav-button");
    document.getElementById("nav-signals").setAttribute("class", "nav-button");
    document.getElementById("nav-"+id).setAttribute("class", "nav-button-active");

    document.getElementById("main-log").style.display = 'none';
    document.getElementById("main-system").style.display = 'none';
    document.getElementById("main-bodies").style.display = 'none';
    document.getElementById("main-signals").style.display = 'none';
    document.getElementById("main-"+id).style.display = 'block';
};

var wsUrl = "ws://" + window.location.hostname + ":" + window.location.port + "/ws";
var socket = new WebSocket(wsUrl);

var output = document.getElementById("main-log");

socket.onopen = function() {
    output.innerHTML = "CONNECTED!" + "<br>";
};

socket.onmessage = function(msg) {
    output.innerHTML += "MSG: " + msg.data + "<br>";
    output.scrollBy(0, 500);
};

socket.onclose = function(ev) {
    output.innerHTML = "";
    if (ev.wasClean != true) {
        output.innerHTML = "UNEXPECTED CLOSE!" + "<br>";
    }
    output.innerHTML += "CLOSED: " + ev.reason + "<br>";
};

</script>


</body>

</html>
